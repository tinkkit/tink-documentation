<div class="container" data-ng-switch="tabview">

  <section class="panel-docs" data-ng-switch-when="changelog">
  <md data-url="../markdown/tink-modal-angular/CHANGELOG.md"></md>
  </section>

  <section class="panel-docs" data-ng-switch-when="example" data-ng-controller="modalCtrl">

    <div class="row margin-top">
      <div class="col-xs-12 col-sm-6 col-md-4 form-group">
        <p>
          <button data-ng-click="openModal()">How does the internet work?</button>
        </p>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-8 form-group">
        <hljs data-format="html">
           <button data-ng-click="openModal()">How does the internet work?</button>
        </hljs>
      </div>
    </div>

    <h3>Usage</h3>
    <div class="row">
      <div class="col-xs-12 col-md-4">
        <p>For a somewhat more extended modal, you can use a separate HTML template for the content of the modal and an Angular controller to call the modal dialog.</p>
      </div>
      <div class="col-xs-12 col-md-8">
        <hljs data-format="js">// Angular controller
          angular.module('tinkApp')
            .controller('modalCtrl', ['$scope', '$modal', function (scope, $modal) {

              scope.openModal=function(){

                var modalInstance = $modal.open({
                  templateUrl: 'views/modal-template.html',
                  controller: 'ModalInstanceCtrl',
                  resolve: {
                    items: function () {
                      return ['test Array'];
                    }
                  }
                });

                modalInstance.result.then(function (obj) {
                  console.log(obj); // The controller is closed because of the developer
                }, function (obj) {
                  console.log('Modal dismissed at: ' + new Date()); // The contoller is closed by the use of the $dismiss call
                });
              }

            }]);
        </hljs>
      </div>
      <div class="col-xs-12 col-md-4">
        <p>An example of the content inside <code>modal-template.html</code>:</p>
      </div>
      <div class="col-xs-12 col-md-8">
        <hljs data-format="html">
          <div data-ng-controller="ModalInstanceCtrl">
            <h3>Modal title</h3>
            <p>Modal text</p>
            <button data-ng-click="ok()">Dismiss</button>
            <button data-ng-click="cancel()">Close</button>
          </div>
        </hljs>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-md-4">
        <p>Optionally, your modal template can also have an Angular controller:</p>
      </div>
      <div class="col-xs-12 col-md-8">
        <hljs data-format="js">// Angular controller
          angular.module('tinkApp')
            .controller('ModalInstanceCtrl', ['$scope', '$modalInstance', function ($scope, $modalInstance) {

              $scope.ok = function() {
                $modalInstance.$close('ok is pressed'); // To close the controller with a success message
              }

              $scope.cancel = function(){
                $modalInstance.$dismiss('cancel is pressed'); // To close the controller with a dismiss message
              }

            }]);
        </hljs>
      </div>
    </div>

    <h2>Modal without external template</h2>
    <div class="row margin-top">
      <div class="col-xs-12 col-sm-6 col-md-4 form-group">
        <p>
          <button tink-modal data-tink-modal-success="lose" data-tink-modal-dismiss="ismissed" data-tink-modal-template="modalcontentid">Open modal</button>
          <script type="text/ng-template" id="modalcontentid">
            <h3>Modal title</h3>
            <p>Modal text</p>
            <button data-ng-click="$dismiss('close')">Dismiss</button>
            <button data-ng-click="$close('close')">Close</button>
          </script>
        </p>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-8 form-group">
        <hljs data-format="html">
          <button tink-modal data-tink-modal-template="modalcontentid" data-tink-modal-success="close" data-tink-modal-dismiss="dismissed">Open modal</button>
        </hljs>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-4 form-group">
        <p>While it is better practice to use an external template for your modal dialog, in certain cases it's better to reference one that's already in the DOM. If this is the case, wrap your modal content within <code>&lt;script&gt;</code> tags and refer to this script template via its <code>id</code>.</p>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-8 form-group">
        <hljs data-format="html">
          <script type="text/ng-template" id="modalcontentid">
            // Your HTML content here
          </script>
        </hljs>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-md-4">
        <p>An example of the modal content:</p>
      </div>
      <div class="col-xs-12 col-md-8">
        <hljs data-format="html">
          <h3>Modal title</h3>
            <p>Modal text</p>
            <button data-ng-click="$dismiss('close')">Dismiss</button>
          <button data-ng-click="$close('close')">Close</button>
        </hljs>
      </div>
    </div>

  </section>

  <section class="panel-docs" data-ng-switch-default>
  <md data-url="../markdown/tink-modal-angular/README.md" class="md"></md>
  </section>

</div>
